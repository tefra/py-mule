{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Pule Client Demo</title>

  <!-- Bootstrap -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/css/bootstrap-datepicker.min.css" rel="stylesheet">

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>
<body>

<header>
  <div class="navbar navbar-dark bg-dark box-shadow">
    <div class="container d-flex justify-content-between">
      <a href="#" class="navbar-brand d-flex align-items-center">
        <strong>Mule v1.0</strong>
      </a>
    </div>
  </div>
</header>

<main role="main">
  <section class="jumbotron">
    <div class="container">
      <div class="row">
        <div class="col-8">
          <form method="get" id="search-form">
            <fieldset id="itineraries">
              <legend>Itineraries
                <button class="btn btn-sm btn-primary float-right" id="add-itinerary">Add</button>
              </legend>
              <div class="form-row itinerary-row">
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Departure</span></div>
                    <input type="text" class="form-control" value="ATH" name="routes[0][departure]">
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Arrival</span></div>
                    <input type="text" class="form-control" value="LON" name="routes[0][arrival]">
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <input type="text" class="form-control datepicker" id="route-0-datetime" data-date-start-date="+3d" value="" name="routes[0][datetime]">
                  </div>
                </div>
              </div>
            </fieldset>
            <fieldset>
              <legend>Passengers</legend>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Adults</span></div>
                    <input type="hidden" value="adults" name="passengers[0][type]">
                    <select class="form-control" name="passengers[0][count]">
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                      <option>6</option>
                      <option>7</option>
                      <option>8</option>
                      <option>9</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Children</span></div>
                    <input type="hidden" value="children" name="passengers[1][type]">
                    <select class="form-control" name="passengers[1][count]">
                      <option>0</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                      <option>6</option>
                      <option>7</option>
                      <option>8</option>
                      <option>9</option>
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Infants</span></div>
                    <input type="hidden" value="infants" name="passengers[2][type]">
                    <select class="form-control" name="passengers[2][count]">
                      <option>0</option>
                      <option>1</option>
                      <option>2</option>
                      <option>3</option>
                      <option>4</option>
                      <option>5</option>
                      <option>6</option>
                      <option>7</option>
                      <option>8</option>
                      <option>9</option>
                    </select>
                  </div>
                </div>
              </div>
            </fieldset>
            <fieldset>
              <legend>Options</legend>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Carrier</span></div>
                    <input type="text" class="form-control" value="" name="carrier">
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Cabin Class</span></div>
                    <select class="form-control" name="cabinClass">
                      <option value="Y">Economy</option>
                      <option value="W">Economy Premium</option>
                      <option value="C">Business</option>
                      <option value="F">First</option>
                    </select>
                  </div>
                </div>
              </div>
            </fieldset>
            <fieldset>
              <legend>Internationalization</legend>
              <div class="form-row">
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Locale</span></div>
                    <select class="form-control" name="locale">
                        {% for locale in locales %}
                            <option>{{ locale }}</option>
                        {% endfor %}
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Market</span></div>
                    <select class="form-control" name="market">
                        {% for market in markets %}
                            <option>{{ market }}</option>
                        {% endfor %}
                    </select>
                  </div>
                </div>
                <div class="form-group col-md-4">
                  <div class="input-group">
                    <div class="input-group-prepend"><span class="input-group-text">Currency</span></div>
                    <select class="form-control" name="currency">
                        {% for currency in currencies %}
                            <option>{{ currency }}</option>
                        {% endfor %}
                    </select>
                  </div>
                </div>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" id="direct-check" type="checkbox" name="directRoutes" value="true">
                <label class="form-check-label" for="direct-check">Direct Flights Only</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" id="debug-check" type="checkbox" name="debug" value="true">
                <label class="form-check-label" for="debug-check">Fake Results</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" id="synced-check" type="checkbox">
                <label class="form-check-label" for="synced-check">Use sync search</label>
              </div>
            </fieldset>
            <input type="hidden" value="false" name="flexibleDates">
          </form>
          <div class="form-group row float-right">
            <div class="col-sm-10">
              <a href="#" id="search" class="btn btn-primary">Mules can fly</a>
            </div>
          </div>
        </div>
        <div class="col-sm">
          <pre style="font-size: 15%">
          <code>
       __
      {0O}
      \__/
      /^/
     ( (              -Peter Bier-
     \_\_____
     (_______)
    (_________()Oo
          </code>
        </pre>
        </div>
      </div>
    </div>
  </section>
  <div class="album py-5 bg-light">
    <div class="container">
      <div class="row">
          <div class="alert alert-danger" id="errors" style="display: none"></div>
        <div class="btn-group" id="providers"></div>
      </div>
      <hr />
      <div class="row" id="trips"></div>
    </div>
  </div>
</main>

<footer class="text-muted">
  <div class="container">
    <p class="float-right">
      <a href="#">Back to top</a>
    </p>
  </div>
</footer>

<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.8.0/js/bootstrap-datepicker.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.serializeJSON/2.9.0/jquery.serializejson.js"></script>
<script src="{% static 'mule.js' %}"></script>


<script type="text/template" id="itinerary-tpl">
  <div class="form-row itinerary-row" id="itinerary-row-index">
    <div class="form-group col-md-4">
      <div class="input-group">
        <div class="input-group-prepend"><span class="input-group-text">Departure</span></div>
        <input type="text" class="form-control" value="LON" name="routes[index][departure]">
      </div>
    </div>
    <div class="form-group col-md-4">
      <div class="input-group">
        <div class="input-group-prepend"><span class="input-group-text">Arrival</span></div>
        <input type="text" class="form-control" value="ATH" name="routes[index][arrival]">
      </div>
    </div>
    <div class="form-group col-md-4">
      <div class="input-group">
        <input type="text" class="form-control datepicker" id="route-index-datetime" data-date-start-date="+5d" value=""
               name="routes[index][datetime]">
        <button type="button" class="close" onclick="removeItin(index); return false;" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    </div>
  </div>
</script>
<script type="text/template" id="provider-tpl">
  <button type="button" class="btn btn-@random">
    @provider <span class="badge badge-light">@total</span>
  </button>
</script>

</body>
</html>